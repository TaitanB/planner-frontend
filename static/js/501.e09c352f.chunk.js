"use strict";(self.webpackChunkplanner_frontend=self.webpackChunkplanner_frontend||[]).push([[501],{878:function(e,t,n){var a=n(9439),s=n(2791);t.Z=function(){var e=(0,s.useState)(!1),t=(0,a.Z)(e,2),n=t[0],r=t[1];return(0,s.useEffect)((function(){var e=function(){r(window.innerWidth<=576)};return e(),window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),n}},6501:function(e,t,n){n.r(t),n.d(t,{default:function(){return H}});var a=n(2791),s=n(9434),r=n(7689),l=n(6907),o=n(9230),i=n(9439),c=n(8949),d=n(241),u=n(3360),h=n(3402),x=n(3996),p=n(547),m=n(878),f=n(6856),v=n(9513),j=n.n(v),g=n(5952),w=n(2942),b=(n(8639),n(3329));var Z=function(e){var t=e.selectedPeriod,n=e.setPlannedDate,s=(0,a.useState)(null),r=(0,i.Z)(s,2),l=r[0],c=r[1],d=(0,m.Z)(),u=(0,a.useContext)(p.A).currentLanguage,h=(0,o.$G)().t;return(0,v.registerLocale)("ua",g.Z),(0,v.registerLocale)("en",w.Z),(0,v.setDefaultLocale)(u),(0,a.useEffect)((function(){"date"!==t&&c(null)}),[t]),(0,b.jsxs)("div",{className:"d-flex gap-1 align-items-center ".concat("date"===t&&"text-primary"),children:[(0,b.jsx)(f.sHf,{}),(0,b.jsx)(j(),{selected:l,onChange:function(e){c(e),n(e)},className:"w-100 text-center",dateFormat:"dd.MM.yyyy",calendarClassName:"bg-body-tertiary",dayClassName:function(e){var t=new Date;return e.toDateString()===t.toDateString()?"bg-primary text-white rounded":l&&l.toDateString()===e.toDateString()?"text-white":e<t?"text-body-tertiary":e.getMonth()===t.getMonth()?"text-primary rounded":e>t?"text-secondary":"text-body-secondary"},popperPlacement:"top-end",popperModifiers:[{name:"offset",options:{offset:[5,10]}},{name:"preventOverflow",options:{rootBoundary:"viewport",tether:!1,altAxis:!0}}],locale:u,peekNextMonth:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",closeOnScroll:!0,placeholderText:h("select_date"),minDate:new Date,withPortal:d,fixedHeight:!0})]})},y=n(3524),k=function(e){var t,n=e.text,a=e.plannedDate,s=new Date;switch(n){case"week":t=new Date(s.getTime()+6048e5);break;case"month":t=new Date(s.getFullYear(),s.getMonth()+1,s.getDate());break;case"3_months":t=new Date(s.getFullYear(),s.getMonth()+3,s.getDate());break;case"half_year":t=new Date(s.getFullYear(),s.getMonth()+6,s.getDate());break;case"year":t=new Date(s.getFullYear()+1,s.getMonth(),s.getDate());break;case"3_years":t=new Date(s.getFullYear()+3,s.getMonth(),s.getDate());break;case"5_years":t=new Date(s.getFullYear()+5,s.getMonth(),s.getDate());break;case"date":t=a}return t};function N(e){var t=e.plannedDate,n=e.setPlannedDate,a=e.selectedPeriod,s=e.setSelectedPeriod,r=(0,o.$G)().t;return(0,b.jsxs)("div",{className:"d-flex flex-wrap gap-3 align-items-center",children:[y.Fw.map((function(e){return(0,b.jsx)(d.Z.Check,{style:{width:"122px"},checked:a===e,label:"".concat(r(e)),name:"plannedDate",type:"radio",id:"inline-radio-".concat(e),onChange:function(){s(e),n(k({text:e,plannedDate:t}))}},"".concat(r(e)))})),(0,b.jsxs)(d.Z.Label,{children:[(0,b.jsx)(d.Z.Check,{checked:"date"===a,inline:!0,name:"plannedDate",type:"radio",className:"btn-check",id:"inline-radio-date",onChange:function(){var e="date";s(e),n(k({text:e,plannedDate:t}))}},"date"),(0,b.jsx)(Z,{selectedPeriod:a,setPlannedDate:n})]})]})}function D(){var e=(0,a.useState)(""),t=(0,i.Z)(e,2),n=t[0],r=t[1],l=(0,a.useState)(""),p=(0,i.Z)(l,2),m=p[0],f=p[1],v=(0,a.useState)(""),j=(0,i.Z)(v,2),g=j[0],w=j[1],Z=(0,a.useState)(""),y=(0,i.Z)(Z,2),k=y[0],D=y[1],C=(0,a.useState)(null),_=(0,i.Z)(C,2),L=_[0],S=_[1],M=(0,o.$G)().t,P=(0,s.I0)(),F=function(e){var t=e.currentTarget,n=t.name,a=t.value;switch(n){case"title":r(a);break;case"description":f(a)}},E=function(){r(""),f(""),w(""),D("")};return(0,b.jsx)(c.Z,{activeKey:L,onSelect:function(e){S(e)},className:"mb-5",children:(0,b.jsxs)(c.Z.Item,{eventKey:"0",children:[(0,b.jsx)(c.Z.Header,{children:(0,b.jsx)("h3",{className:"mb-0 ms-auto ",children:M("form_add_todo_title")})}),(0,b.jsx)(c.Z.Body,{children:(0,b.jsxs)(d.Z,{onSubmit:function(e){e.preventDefault(),P((0,x.Iv)({title:n,description:m,plannedDate:g})),h.ZP.success("".concat(M("todo_added"))),E()},children:[(0,b.jsxs)(d.Z.Group,{className:"mb-3",controlId:"exampleForm.ControlInput1",children:[(0,b.jsx)(d.Z.Label,{visuallyHidden:!0,children:M("title_todo")}),(0,b.jsx)(d.Z.Control,{type:"text",name:"title",required:!0,value:n,onChange:F,placeholder:M("placeholder_title")})]}),(0,b.jsxs)(d.Z.Group,{className:"mb-3",controlId:"exampleForm.ControlTextarea1",children:[(0,b.jsx)(d.Z.Label,{visuallyHidden:!0,children:M("description")}),(0,b.jsx)(d.Z.Control,{as:"textarea",rows:6,type:"text",name:"description",value:m,onChange:F,placeholder:M("placeholder_description")})]}),(0,b.jsxs)("div",{className:"d-flex flex-wrap mb-3",children:[(0,b.jsxs)("h5",{className:"d-inline-block me-3 mb-3",children:["".concat(M("planned_date")),":"]}),(0,b.jsx)(N,{plannedDate:g,setPlannedDate:w,selectedPeriod:k,setSelectedPeriod:D})]},"inline-radio"),(0,b.jsx)(u.Z,{className:"me-3",variant:"primary",type:"submit",disabled:!n||!m||!k,children:M("add_todo")}),(0,b.jsx)(u.Z,{variant:"secondary",onClick:function(){E(),"0"===L&&S(null)},children:M("cancel")})]})})]})})}var C=n(473),_=n(2227),L=function(){var e=(0,a.useState)(""),t=(0,i.Z)(e,2),n=t[0],r=t[1],l=(0,o.$G)().t,c=(0,s.I0)();return(0,b.jsx)(d.Z,{className:"d-flex mb-3",children:(0,b.jsxs)(d.Z.Label,{className:"mb-0 d-flex align-items-center",children:[(0,b.jsx)(d.Z.Control,{type:"text",name:n,value:n,onChange:function(e){return r(e.target.value)},placeholder:l("placeholder_search"),className:"me-2","aria-label":"Search"}),(0,b.jsx)(u.Z,{onClick:function(){c((0,_.on)(n))},variant:"link  me-2 p-0",children:(0,b.jsx)(f.vU7,{style:{width:"32px",height:"32px"}})}),(0,b.jsx)(C.Z,{onClick:function(e){e.target.blur(),c((0,_.AQ)()),r("")}})]})})},S=n(1087),M=n(5320),P=n(7873),F=n(2576),E=n(632),I=function(){var e=(0,s.v9)(E.jl),t=(0,r.TH)(),n=(0,o.$G)().t,a=function(e){e.target.blur()},l=(0,m.Z)();return(0,b.jsxs)(M.Z,{variant:"tabs",defaultActiveKey:"/todos",className:"d-flex flex-nowrap gap-3 ms-auto nav-todos",children:[(0,b.jsxs)(S.rU,{className:"flex-shrink-1 nav-link position-relative ".concat("/todos"===t.pathname?"active":""),to:"/todos",onClick:a,children:[l?(0,b.jsx)(P.Z,{placement:"top",overlay:(0,b.jsx)(F.Z,{children:"".concat(n("all_todos"))}),children:(0,b.jsx)("p",{className:"w-100 col-2 text-truncate",children:n("all_todos")})}):(0,b.jsx)("p",{className:"w-100 col-2 text-truncate",children:n("all_todos")}),(0,b.jsxs)("span",{className:"position-absolute top-0 start-100 translate-middle badge rounded-pill bg-secondary",children:[e,(0,b.jsx)("span",{className:"visually-hidden",children:n("all_todos")})]})]}),(0,b.jsxs)(S.OL,{className:"flex-shrink-1 nav-link position-relative",to:"completed",onClick:a,children:[l?(0,b.jsx)(P.Z,{placement:"top",overlay:(0,b.jsx)(F.Z,{children:"".concat(n("completed"))}),children:(0,b.jsx)("p",{className:"w-100 col-2 text-truncate",children:n("completed")})}):(0,b.jsx)("p",{className:"w-100 col-2 text-truncate",children:n("completed")}),(0,b.jsxs)("span",{className:"position-absolute top-0 start-100 translate-middle badge rounded-pill bg-secondary",children:["0",(0,b.jsx)("span",{className:"visually-hidden",children:n("completed")})]})]}),(0,b.jsxs)(S.OL,{className:"flex-shrink-1 nav-link position-relative",to:"overdue",onClick:a,children:[l?(0,b.jsx)(P.Z,{placement:"top",overlay:(0,b.jsx)(F.Z,{children:"".concat(n("is_overdue"))}),children:(0,b.jsx)("p",{className:"w-100 col-2 text-truncate",children:n("is_overdue")})}):(0,b.jsx)("p",{className:"w-100 col-2 text-truncate",children:n("is_overdue")}),(0,b.jsxs)("span",{className:"position-absolute top-0 start-100 translate-middle badge rounded-pill bg-secondary",children:["0",(0,b.jsx)("span",{className:"visually-hidden",children:n("is_overdue")})]})]}),(0,b.jsxs)(S.OL,{className:"flex-shrink-1 nav-link position-relative",to:"archive",onClick:a,children:[l?(0,b.jsx)(P.Z,{placement:"top",overlay:(0,b.jsx)(F.Z,{children:"".concat(n("archive"))}),children:(0,b.jsx)("p",{className:"w-100 col-2 text-truncate",children:n("archive")})}):(0,b.jsx)("p",{className:"w-100 col-2 text-truncate",children:n("archive")}),(0,b.jsxs)("span",{className:"position-absolute top-0 start-100 translate-middle badge rounded-pill bg-secondary",children:["0",(0,b.jsx)("span",{className:"visually-hidden",children:n("archive")})]})]})]})},G=n(3433),T=n(8116);function Y(e){var t=e.page,n=e.totalPages,s=e.handlePageChange,r=(0,a.useState)(5),l=(0,i.Z)(r,2),o=l[0],c=l[1],d=(0,m.Z)(),u=function(){window.innerWidth<425?c(1):window.innerWidth<576?c(3):window.innerWidth<992?c(5):c(7)};(0,a.useEffect)((function(){return u(),window.addEventListener("resize",u),function(){window.removeEventListener("resize",u)}}),[]);var h=1===t,x=t===n,p=function(){if(n<=o)return(0,G.Z)(Array(n)).map((function(e,t){return t+1}));var e=Math.floor(o/2),a=Math.max(t-e,1),s=Math.min(t+e,n);t<=e?s=o:t>n-e&&(a=n-o+1);var r=[];1!==a&&(r.push(1),2!==a&&r.push("..."));for(var l=a;l<=s;l++)r.push(l);return s!==n&&(s!==n-1&&r.push("..."),r.push(n)),r}();return(0,b.jsx)(b.Fragment,{children:n>1&&(0,b.jsxs)(T.Z,{className:"mx-auto mb-3 ".concat(d?"pagination-sm":""),children:[(0,b.jsx)(T.Z.First,{onClick:function(){return s(1)},disabled:h}),(0,b.jsx)(T.Z.Prev,{onClick:function(){return s(Math.max(t-1,1))},disabled:h}),p.map((function(e,n){return"..."===e?(0,b.jsx)(T.Z.Ellipsis,{},n):(0,b.jsx)(T.Z.Item,{active:e===t,onClick:function(){return s(e)},children:e},n)})),(0,b.jsx)(T.Z.Next,{onClick:function(){return s(Math.min(t+1,n))},disabled:x}),(0,b.jsx)(T.Z.Last,{onClick:function(){return s(n)},disabled:x})]})})}var A=n(7007);function H(){var e=(0,s.v9)(E.fx),t=(0,s.v9)(E.gc),n=(0,s.v9)(E.Jb),i=(0,s.v9)(E.jl),c=(0,o.$G)().t,d=(0,s.I0)();(0,a.useEffect)((function(){d((0,x.Td)({page:e,query:n}))}),[d,e,n,i]);return(0,b.jsxs)(l.B6,{children:[(0,b.jsx)(l.ql,{children:(0,b.jsx)("title",{children:c("helmet_title_todos_page")})}),(0,b.jsxs)("div",{className:"d-flex flex-column mt-5 pt-5",children:[(0,b.jsx)(D,{}),(0,b.jsxs)("div",{className:"d-flex flex-wrap gap-3 align-items-end",children:[(0,b.jsx)(L,{filter:n,page:e}),(0,b.jsx)(I,{})]}),(0,b.jsx)(a.Suspense,{fallback:(0,b.jsx)(A.a,{}),children:(0,b.jsx)(r.j3,{})}),(0,b.jsx)(Y,{page:e,totalPages:t,handlePageChange:function(e){d((0,_.YA)(e)),d((0,x.Td)({page:e,query:n}))}})]})]})}},632:function(e,t,n){n.d(t,{Jb:function(){return l},fx:function(){return s},gc:function(){return a},jl:function(){return r},ql:function(){return o}});var a=function(e){return e.todos.totalPages},s=function(e){return e.todos.page},r=function(e){return e.todos.totalTodos},l=function(e){return e.todos.search},o=function(e){return e.todos.search?e.todos.items.filter((function(t){var n=t.title,a=t.description;return n.toLowerCase().includes(e.todos.search.toLowerCase())||a.toLowerCase().includes(e.todos.search.toLowerCase())})):e.todos.items}}}]);
//# sourceMappingURL=501.e09c352f.chunk.js.map